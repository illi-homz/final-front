{"version":3,"sources":["webpack:///./src/views/Home.vue?8608","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","proxy","_e","testsForUser","length","_l","test","index","questions","_s","title","groups","questionsCounter","staticRenderFns","name","data","userData","tests","results","methods","setConfig","headers","$cookies","get","Authorization","config","getTests","params","user","id","getResults","checkResults","r","t","resultsID","push","j","includes","i","addetTest","countQuestionsInGroups","totalQuestions","group","mounted","component","$","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","el","arguments","undefined"],"mappings":"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","file":"js/chunk-712f214e.76c91790.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',[_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"12\",\"xl\":\"9\"}},[_c('b-jumbotron',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"Сервис по тестированию\")]},proxy:true},{key:\"lead\",fn:function(){return [_vm._v(\" Какое то описание сарвиса \")]},proxy:true}])},[_c('hr',{staticClass:\"my-4\"}),_c('p',[_vm._v(\" Еще пару слов о сервисе \")]),(_vm.userData)?_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"to\":\"/test-list\"}},[_vm._v(\" Список тестов \")]):_vm._e(),(_vm.userData)?_c('b-button',{staticClass:\"mx-2\",attrs:{\"variant\":\"success\",\"to\":\"/my-page\"}},[_vm._v(\" Личный кабинет \")]):_vm._e()],1),(_vm.testsForUser.length !== 0)?_c('b-card',{staticClass:\"mt-2\",attrs:{\"no-body\":\"\",\"header-html\":\"<h4><b>Тесты которые Вам необходимо пройти:</b></h4>\"}},[_c('b-list-group',{attrs:{\"flush\":\"\"}},_vm._l((_vm.testsForUser),function(test,index){return _c('b-list-group-item',{key:index,attrs:{\"to\":(\"/test-details/\" + (test.id))}},[(test.questions.length > 0)?_c('h5',[_vm._v(\" \"+_vm._s(test.title)+\" - всего вопросов \"+_vm._s(test.questions.length)+\" \")]):_vm._e(),(test.groups.length > 0)?_c('h5',[_vm._v(\" \"+_vm._s(test.title)+\" - всего вопросов \"+_vm._s(test.questionsCounter)+\" \")]):_vm._e()])}),1)],1):_vm._e()],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <div>\n      <b-row class=\"mt-2\">\n        <b-col cols=\"12\" xl=\"9\" class=\"mx-auto\">\n\n          <b-jumbotron>\n            <template v-slot:header>Сервис по тестированию</template>\n\n            <template v-slot:lead>\n              Какое то описание сарвиса\n            </template>\n\n            <hr class=\"my-4\">\n\n            <p>\n              Еще пару слов о сервисе\n            </p>\n\n            <b-button class=\"mr-2\" variant=\"primary\" to=\"/test-list\" v-if=\"userData\">\n              Список тестов\n            </b-button>\n            <b-button class=\"mx-2\" variant=\"success\" to=\"/my-page\" v-if=\"userData\">\n              Личный кабинет\n            </b-button>\n          </b-jumbotron>\n\n          <b-card\n            v-if=\"testsForUser.length !== 0\"\n            class=\"mt-2\"\n            no-body\n            header-html=\"<h4><b>Тесты которые Вам необходимо пройти:</b></h4>\">\n            <b-list-group flush>\n              <b-list-group-item\n                v-for=\"(test, index) in testsForUser\"\n                v-bind:key=\"index\"\n                :to=\"`/test-details/${test.id}`\">\n                <h5 v-if=\"test.questions.length > 0\">\n                  {{ test.title }} - всего вопросов {{ test.questions.length }}\n                </h5>\n                <h5 v-if=\"test.groups.length > 0\">\n                  {{ test.title }} - всего вопросов {{ test.questionsCounter }}\n                </h5>\n              </b-list-group-item>\n            </b-list-group>\n          </b-card>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst BASE_API_URL = process.env.VUE_APP_SERVER_URL;\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      userData: '',\n      tests: '',\n      testsForUser: [],\n      results: '',\n    };\n  },\n  methods: {\n    setConfig() {\n      const jwt = this.$cookies.get('jwt_token');\n      const config = {\n        headers: {\n          'X-CSRFToken': this.$cookies.get('csrftoken'),\n          Authorization: `Bearer ${jwt}`,\n        },\n      };\n      return config;\n    },\n    getTests(id) {\n      const config = this.setConfig();\n      config.params = {\n        user: id,\n      };\n      axios.get(`${BASE_API_URL}/tests/`, config)\n        .then((responce) => {\n          this.tests = responce.data;\n          this.getResults(this.userData.id);\n          for (let i = 0; i < this.tests.length; i += 1) {\n            if (this.tests[i].groups.length > 0) {\n              this.tests[i].questionsCounter = this.countQuestionsInGroups(i);\n            }\n          }\n        });\n    },\n    getResults(id) {\n      const config = this.setConfig();\n      config.params = {\n        user: id,\n      };\n      axios.get(`${BASE_API_URL}/results/`, config)\n        .then((responce) => {\n          this.results = responce.data;\n          this.checkResults();\n        });\n    },\n    checkResults() {\n      const t = this.tests;\n      const r = this.results;\n      const addetTest = [];\n      const resultsID = [];\n      if (r.length === 0) {\n        this.testsForUser = t;\n      } else {\n        for (let j = 0; j < r.length; j += 1) {\n          resultsID.push(r[j].test.id);\n        }\n        for (let i = 0; i < t.length; i += 1) {\n          if (!resultsID.includes(t[i].id)) {\n            this.testsForUser.push(t[i]);\n            addetTest.push(t[i].id);\n          }\n        }\n      }\n    },\n    countQuestionsInGroups(testID) {\n      const test = this.tests[testID];\n      let totalQuestions = 0;\n      for (let i = 0; i < test.groups.length; i += 1) {\n        totalQuestions += test.groups[i].group.questions.length;\n      }\n      return totalQuestions;\n    },\n  },\n  mounted() {\n    this.userData = this.$cookies.get('user_data');\n    if (this.userData) {\n      this.getTests(this.userData.id);\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=00f772cf&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}