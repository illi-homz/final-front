{"version":3,"sources":["webpack:///./src/views/EditTest.vue?a4a9","webpack:///src/views/EditTest.vue","webpack:///./src/views/EditTest.vue?4a82","webpack:///./src/views/EditTest.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_e","test","ref","model","value","callback","$$v","$set","expression","staticStyle","users","selectedUsers","_s","img","image","countTotalPrice","_l","qit","index","key","question","price","git","group","q","i","on","putchTest","staticRenderFns","name","data","totalPrice","error","dateError","success","methods","setConfig","headers","$cookies","get","Authorization","config","getTest","getUsers","sd","ed","id","title","about","start_date","end_date","time_on_question","tested_users","questions","groups","length","push","ID","configForImage","formData","append","computed","mounted","component"],"mappings":"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","file":"js/chunk-2d0e6c68.29f7029c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-test\"},[_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"11\",\"xl\":\"9\"}},[(_vm.success)?_c('h1',{staticClass:\"text-center text-success\"},[_vm._v(\" ИЗМЕНЕНИЯ ВНЕСЕНЫ \")]):_vm._e(),(!_vm.test)?_c('p',[_vm._v(\"Loading ...\")]):_c('b-jumbotron',{staticClass:\"w-100 mx-auto py-3\",attrs:{\"bg-variant\":\"info\",\"border-variant\":\"dark\"}},[_c('b-form',{ref:\"form\"},[_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Название теста \")]),_c('b-col',[_c('b-input',{attrs:{\"placeholder\":\"Введите название теста\"},model:{value:(_vm.test.title),callback:function ($$v) {_vm.$set(_vm.test, \"title\", $$v)},expression:\"test.title\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Введите название теста\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" О тесте \")]),_c('b-col',[_c('b-form-textarea',{attrs:{\"placeholder\":\"Введите описание\",\"rows\":\"1\"},model:{value:(_vm.test.about),callback:function ($$v) {_vm.$set(_vm.test, \"about\", $$v)},expression:\"test.about\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Введите описание теста\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Дата начала \")]),_c('b-col',[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Выберите дату начала тестирования\"},model:{value:(_vm.test.start_date),callback:function ($$v) {_vm.$set(_vm.test, \"start_date\", $$v)},expression:\"test.start_date\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Введите дату начала тестирования\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Дата окончания \")]),_c('b-col',[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Выберите дату окончания тестирования\"},model:{value:(_vm.test.end_date),callback:function ($$v) {_vm.$set(_vm.test, \"end_date\", $$v)},expression:\"test.end_date\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Введите дату окончания тестирования\")])]):_vm._e(),(_vm.dateError)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Дата окончания должна быть после даты начала\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Время на вопрос, сек \")]),_c('b-col',[_c('b-form-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Введите число\"},model:{value:(_vm.test.time_on_question),callback:function ($$v) {_vm.$set(_vm.test, \"time_on_question\", $$v)},expression:\"test.time_on_question\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Введите время на вопрос\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Тестируемые \"),_c('br'),_c('em',{staticStyle:{\"font-size\":\"8pt\"}},[_vm._v(\" (Выберите удерживая CTRL) \")])]),_c('b-col',[_c('b-form-select',{attrs:{\"options\":_vm.users,\"multiple\":\"\",\"select-size\":4},model:{value:(_vm.selectedUsers),callback:function ($$v) {_vm.selectedUsers=$$v},expression:\"selectedUsers\"}}),(_vm.error)?_c('p',{staticClass:\"my-0\"},[_c('em',{staticClass:\"text-light\"},[_vm._v(\"* Выберите пользователей\")])]):_vm._e()],1)],1),_c('b-row',{staticClass:\"mb-1 my-2\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" Изображение \")]),_c('b-col',[(_vm.test.img)?_c('b-row',[_c('b-col',[_c('b-link',{attrs:{\"href\":(\"\" + (_vm.test.img))}},[_c('b-button',{attrs:{\"variant\":\"outline-light\"}},[_c('b',[_vm._v(_vm._s(_vm.test.img))])])],1)],1)],1):_vm._e(),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',[_c('b-form-file',{attrs:{\"plain\":\"\"},model:{value:(_vm.image),callback:function ($$v) {_vm.image=$$v},expression:\"image\"}})],1)],1)],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('p',{staticClass:\"mb-0\"},[_vm._v(\"Вопросы\")])]),_c('b-col',[_c('h6',{staticClass:\"text-center\"},[_vm._v(\" Всего баллов за тест: \"+_vm._s(_vm.countTotalPrice)+\" \")]),(_vm.test.questions)?_c('b-row',[_c('b-col',_vm._l((_vm.test.questions),function(qit,index){return _c('b-row',{key:index},[_c('b-col',[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{staticClass:\"pr-0\"},[_c('p',[_vm._v(\"Вопрос \"+_vm._s(index + 1)+\". \"+_vm._s(qit.question.question))])]),_c('b-col',{staticClass:\"pl-1\",attrs:{\"cols\":\"3\"}},[_c('p',[_vm._v(\"Баллов за вопрос: \"+_vm._s(qit.price))])])],1)],1)],1)}),1)],1):_vm._e(),(_vm.test.groups)?_c('b-row',[_c('b-col',_vm._l((_vm.test.groups),function(git,index){return _c('b-row',{key:index},[_c('b-col',_vm._l((git.group.questions),function(q,i){return _c('b-row',{key:i},[_c('b-col',[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{staticClass:\"pr-0\"},[_c('p',[_vm._v(\"Группа \"+_vm._s(index + 1)+\". Вопрос \"+_vm._s(i + 1)+\". \"+_vm._s(q.question))])]),_c('b-col',{staticClass:\"pl-1\",attrs:{\"cols\":\"3\"}},[_c('p',[_vm._v(\"Баллов за вопрос: \"+_vm._s(git.price))])])],1)],1)],1)}),1)],1)}),1)],1):_vm._e(),_c('b-row',{staticClass:\"mt-2 mx-0\"},[_c('b-button',{staticClass:\"ml-auto\",attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.putchTest}},[_vm._v(\" Отправить изменения \")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"edit-test\">\n    <b-row class=\"mt-2\">\n      <b-col cols=\"11\" xl=\"9\" class=\"mx-auto\">\n        <h1 v-if=\"success\" class=\"text-center text-success\">\n          ИЗМЕНЕНИЯ ВНЕСЕНЫ\n        </h1>\n        <p v-if=\"!test\">Loading ...</p>\n        <b-jumbotron\n          v-else\n          class=\"w-100 mx-auto py-3\"\n          bg-variant=\"info\"\n          border-variant=\"dark\">\n\n          <b-form ref=\"form\">\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                Название теста\n              </b-col>\n              <b-col>\n                <b-input\n                  v-model=\"test.title\"\n                  placeholder=\"Введите название теста\"></b-input>\n                  <p class=\"my-0\" v-if=\"error\">\n                    <em class=\"text-light\">* Введите название теста</em>\n                  </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                О тесте\n              </b-col>\n              <b-col>\n                <b-form-textarea\n                  v-model=\"test.about\"\n                  placeholder=\"Введите описание\"\n                  rows=\"1\"></b-form-textarea>\n                  <p class=\"my-0\" v-if=\"error\">\n                    <em class=\"text-light\">* Введите описание теста</em>\n                  </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                Дата начала\n              </b-col>\n              <b-col>\n                <b-form-datepicker\n                  v-model=\"test.start_date\"\n                  placeholder=\"Выберите дату начала тестирования\"></b-form-datepicker>\n                  <p class=\"my-0\" v-if=\"error\">\n                    <em class=\"text-light\">* Введите дату начала тестирования</em>\n                  </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                Дата окончания\n              </b-col>\n              <b-col>\n                <b-form-datepicker\n                  v-model=\"test.end_date\"\n                  placeholder=\"Выберите дату окончания тестирования\"></b-form-datepicker>\n                  <p class=\"my-0\" v-if=\"error\">\n                    <em class=\"text-light\">* Введите дату окончания тестирования</em>\n                  </p>\n                  <p class=\"my-0\" v-if=\"dateError\">\n                    <em class=\"text-light\">* Дата окончания должна быть после даты начала</em>\n                  </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                Время на вопрос, сек\n              </b-col>\n              <b-col>\n                <b-form-input\n                  v-model=\"test.time_on_question\"\n                  type=\"number\"\n                  placeholder=\"Введите число\"></b-form-input>\n                <p class=\"my-0\" v-if=\"error\">\n                  <em class=\"text-light\">* Введите время на вопрос</em>\n                </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                Тестируемые <br>\n                <em style=\"font-size: 8pt;\">\n                  (Выберите удерживая CTRL)\n                </em>\n              </b-col>\n              <b-col>\n                <b-form-select\n                v-model=\"selectedUsers\"\n                :options=\"users\"\n                multiple\n                :select-size=\"4\"></b-form-select>\n                <p class=\"my-0\" v-if=\"error\">\n                  <em class=\"text-light\">* Выберите пользователей</em>\n                </p>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1 my-2\" align-v=\"center\">\n              <b-col cols=\"3\">\n                Изображение\n              </b-col>\n              <b-col>\n                <b-row v-if=\"test.img\">\n                  <b-col>\n                    <b-link :href=\"`${test.img}`\">\n                      <b-button variant=\"outline-light\">\n                        <b>{{ test.img }}</b>\n                      </b-button>\n                    </b-link>\n                  </b-col>\n                </b-row>\n                <b-row class=\"mt-2\">\n                  <b-col>\n                    <b-form-file v-model=\"image\" plain></b-form-file>\n                  </b-col>\n                </b-row>\n              </b-col>\n            </b-row>\n\n            <b-row class=\"mb-1\">\n              <b-col cols=\"3\">\n                <p class=\"mb-0\">Вопросы</p>\n              </b-col>\n              <b-col>\n                <h6 class=\"text-center\">\n                  Всего баллов за тест: {{ countTotalPrice }}\n                </h6>\n\n                <b-row v-if=\"test.questions\">\n                  <b-col>\n                    <b-row\n                      v-for=\"(qit, index) in test.questions\"\n                      v-bind:key=\"index\">\n                      <b-col>\n                        <b-row align-v=\"center\">\n                          <b-col class=\"pr-0\">\n                            <p>Вопрос {{ index + 1 }}. {{ qit.question.question }}</p>\n                          </b-col>\n                          <b-col cols=\"3\" class=\"pl-1\">\n                            <p>Баллов за вопрос: {{ qit.price }}</p>\n                          </b-col>\n                        </b-row>\n                      </b-col>\n                    </b-row>\n                  </b-col>\n                </b-row>\n\n                <b-row v-if=\"test.groups\">\n                  <b-col>\n                    <b-row\n                      v-for=\"(git, index) in test.groups\"\n                      v-bind:key=\"index\">\n                      <b-col>\n                        <b-row\n                          v-for=\"(q, i) in git.group.questions\"\n                          v-bind:key=\"i\">\n                          <b-col>\n                            <b-row align-v=\"center\">\n                              <b-col class=\"pr-0\">\n                                <p>Группа {{ index + 1 }}. Вопрос {{ i + 1 }}. {{ q.question }}</p>\n                              </b-col>\n                              <b-col cols=\"3\" class=\"pl-1\">\n                                <p>Баллов за вопрос: {{ git.price }}</p>\n                              </b-col>\n                            </b-row>\n                          </b-col>\n                        </b-row>\n                      </b-col>\n                    </b-row>\n                  </b-col>\n                </b-row>\n\n                <b-row class=\"mt-2 mx-0\">\n                  <b-button class=\"ml-auto\" @click=\"putchTest\" variant=\"danger\">\n                    Отправить изменения\n                  </b-button>\n                </b-row>\n              </b-col>\n            </b-row>\n\n          </b-form>\n\n        </b-jumbotron>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst BASE_API_URL = process.env.VUE_APP_SERVER_URL;\n\nexport default {\n  name: 'EditTest',\n  data() {\n    return {\n      test: '',\n      selectedUsers: [],\n      users: [],\n      totalPrice: 0,\n      image: null,\n      error: 0,\n      dateError: 0,\n      success: 0,\n    };\n  },\n  methods: {\n    setConfig() {\n      const jwt = this.$cookies.get('jwt_token');\n      const config = {\n        headers: {\n          'X-CSRFToken': this.$cookies.get('csrftoken'),\n          Authorization: `Bearer ${jwt}`,\n        },\n      };\n      return config;\n    },\n    getTest() {\n      const config = this.setConfig();\n      const id = `${this.$route.params.id}`;\n      axios.get(`${BASE_API_URL}/tests/${id}/`, config)\n        .then((response) => {\n          this.test = response.data;\n          for (let i = 0; i < this.test.tested_users.length; i += 1) {\n            this.selectedUsers.push(this.test.tested_users[i].id);\n          }\n        });\n    },\n    getUsers() {\n      const config = this.setConfig();\n      axios.get(`${BASE_API_URL}/users/`, config)\n        .then((response) => {\n          for (let i = 0; i < response.data.length; i += 1) {\n            this.users.push({\n              value: response.data[i].id,\n              text: response.data[i].username,\n            });\n          }\n        });\n    },\n    putchTest() {\n      if (\n        !this.test.title\n        || !this.test.about\n        || !this.test.start_date\n        || !this.test.end_date\n        || !this.test.time_on_question\n        // || !this.selectedUsers\n        // || !this.questionsInTest\n      ) {\n        this.error = 1;\n        return undefined;\n      }\n      const sd = new Date(this.test.start_date);\n      const ed = new Date(this.test.end_date);\n\n      if (sd > ed) {\n        this.dateError = 1;\n        return undefined;\n      }\n      const config = this.setConfig();\n      const data = {\n        id: this.test.id,\n        title: this.test.title,\n        about: this.test.about,\n        start_date: this.test.start_date,\n        end_date: this.test.end_date,\n        time_on_question: this.test.time_on_question,\n        img: this.test.img,\n        tested_users: this.selectedUsers,\n        questions: [],\n        groups: [],\n      };\n      if (this.test.questions.length > 0) {\n        for (let i = 0; i < this.test.questions.length; i += 1) {\n          const ID = this.test.questions[i].id;\n          data.questions.push(ID);\n        }\n      } else if (this.test.groups.length > 0) {\n        for (let i = 0; i < this.test.groups.length; i += 1) {\n          const ID = this.test.groups[i].id;\n          data.groups.push(ID);\n        }\n      }\n      if (this.image) {\n        const configForImage = this.setConfig();\n        configForImage.headers['Content-Type'] = 'multipart/form-data';\n        const formData = new FormData();\n        formData.append('file', this.image);\n        axios.post(`${BASE_API_URL}/images/`, formData, configForImage)\n          .then((r) => {\n            data.img = r.data.file;\n\n            axios.patch(`${BASE_API_URL}/tests/${data.id}/`, data, config)\n              .then(() => {\n                // console.log(response.data);\n                this.success = 1;\n                setTimeout(() => {\n                  this.success = 0;\n                  this.$router.replace(`/test-details/${this.test.id}`);\n                }, 1000);\n              });\n          });\n      } else {\n        axios.patch(`${BASE_API_URL}/tests/${data.id}/`, data, config)\n          .then(() => {\n            // console.log(response.data);\n            this.success = 1;\n            setTimeout(() => {\n              this.success = 0;\n              this.$router.replace(`/test-details/${this.test.id}`);\n            }, 1000);\n          });\n      }\n      return 'Hello';\n    },\n  },\n  computed: {\n    countTotalPrice() {\n      let totalPrice = 0;\n      for (let i = 0; i < this.test.questions.length; i += 1) {\n        totalPrice += this.test.questions[i].price;\n      }\n      for (let i = 0; i < this.test.groups.length; i += 1) {\n        const countQuestions = this.test.groups[i].group.questions.length;\n        totalPrice += this.test.groups[i].price * countQuestions;\n      }\n      return totalPrice;\n    },\n  },\n  mounted() {\n    this.getTest();\n    this.getUsers();\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditTest.vue?vue&type=template&id=c61cda54&\"\nimport script from \"./EditTest.vue?vue&type=script&lang=js&\"\nexport * from \"./EditTest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}