(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1563a14c"],{"27ba":function(t,e,s){"use strict";var a=s("5bea"),o=s.n(a);o.a},5202:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("b-row",[s("b-col",{staticClass:"mx-auto",attrs:{cols:"11",xl:"10"}},[s("b-row",{staticClass:"text-center mt-4"},[s("b-col",[s("h1",[s("b",[t._v("Создание теста")])])])],1),s("b-row",{staticClass:"text-center mt-2"},[s("b-col",[s("b-button",{staticClass:"mx-1",attrs:{variant:"success"},on:{click:function(e){return t.changeTest("questions")}}},[t._v(" Из отдельных вопросов ")]),s("b-button",{staticClass:"mx-1",attrs:{variant:"success"},on:{click:function(e){return t.changeTest("groups")}}},[t._v(" Из групп вопросов ")])],1)],1),s("hr",{staticClass:"w-75"}),t.created?s("h1",{staticClass:"text-center text-danger"},[t._v("Тест создан")]):t._e(),t.t?s(t.test,{tag:"component",on:{testClean:function(e){return t.changeTest(t.t)},created:t.ifCreated}}):t._e()],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-from-questions"},[s("b-row",{staticClass:"text-center"},[s("b-col",[s("h3",[t._v("Создание теста из отдельных вопросов")])])],1),s("b-row",[s("b-col",{staticClass:"mx-auto",attrs:{cols:"12",xl:"10"}},[s("b-jumbotron",{staticClass:"w-100 mx-auto py-3",attrs:{"bg-variant":"info","border-variant":"dark"}},[s("b-form",{ref:"form"},[s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Название теста ")]),s("b-col",[s("b-input",{attrs:{id:"answer",placeholder:"Введите название теста"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите название теста")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" О тесте ")]),s("b-col",[s("b-form-textarea",{attrs:{id:"question",placeholder:"Введите описание",rows:"1"},model:{value:t.about,callback:function(e){t.about=e},expression:"about"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите описание теста")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Дата начала ")]),s("b-col",[s("b-form-datepicker",{attrs:{placeholder:"Выберите дату начала тестирования"},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите дату начала тестирования")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Дата окончания ")]),s("b-col",[s("b-form-datepicker",{attrs:{placeholder:"Выберите дату окончания тестирования"},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите дату окончания тестирования")])]):t._e(),t.dateError?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Дата окончания должна быть после даты начала")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Время на вопрос, сек ")]),s("b-col",[s("b-form-input",{attrs:{type:"number",placeholder:"Введите число"},model:{value:t.time_on_question,callback:function(e){t.time_on_question=e},expression:"time_on_question"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите время на вопрос")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Тестируемые "),s("br"),s("em",{staticStyle:{"font-size":"8pt"}},[t._v(" (Выберите удерживая CTRL) ")])]),s("b-col",[s("b-form-select",{attrs:{options:t.users,multiple:"","select-size":4},model:{value:t.selectedUsers,callback:function(e){t.selectedUsers=e},expression:"selectedUsers"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Выберите пользователей")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1",attrs:{"align-v":"center"}},[s("b-col",{attrs:{cols:"3"}},[t._v(" Изображение ")]),s("b-col",[s("b-form-file",{attrs:{plain:""},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[s("p",{staticClass:"mb-0"},[t._v("Вопросы")]),s("em",{staticStyle:{"font-size":"8pt"}},[t._v(" (Выберите вопросы, укажите баллы за каждый вопрос) ")])]),s("b-col",[t.totalPrice?s("h6",{staticClass:"text-center"},[t._v(" Всего баллов за тест: "+t._s(t.totalPrice)+" ")]):t._e(),t._l(t.questionsInTest,(function(e,a){return s("b-row",{key:a},[s("b-col",[s("b-row",{attrs:{"align-v":"center"}},[s("b-col",{staticClass:"pr-0",attrs:{cols:"9"}},[s("b-form-select",{staticClass:"mb-2",model:{value:e.question,callback:function(s){t.$set(e,"question",s)},expression:"qit.question"}},t._l(t.questions,(function(e){return s("b-form-select-option",{key:e.id,attrs:{value:""+e.id}},[t._v(" "+t._s(e.question)+" ")])})),1)],1),s("b-col",{staticClass:"pl-1",attrs:{cols:"2"}},[s("b-form-input",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{type:"number",value:"0"},model:{value:e.price,callback:function(s){t.$set(e,"price",s)},expression:"qit.price"}})],1),s("b-col",{staticClass:"mx-0 px-0",attrs:{cols:"1"}},[s("b-button",{staticClass:"mb-2",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.delQuestion(a)}}},[t._v("X")])],1)],1)],1)],1)})),t.error?s("p",{staticClass:"mx-0 mt-0 mb-1"},[s("em",{staticClass:"text-light"},[t._v("* Выберите вопросы")])]):t._e(),s("b-row",[s("b-col",[s("b-row",[s("b-col",[s("b-row",{staticClass:"px-3"},[s("b-button",{attrs:{variant:"primary"},on:{click:t.addQuestion}},[t._v(" Добавить вопрос ")]),s("b-button",{staticClass:"ml-auto",attrs:{variant:"danger"},on:{click:t.createTest}},[t._v(" Создать ")])],1)],1)],1)],1)],1)],2)],1)],1)],1)],1)],1)],1)},i=[],n=(s("a434"),s("a9e3"),s("bc3a")),c=s.n(n),l="https://testing-gomza-back.herokuapp.com",u={name:"TestFromQuestions",data:function(){return{title:"",about:"",start_date:"",end_date:"",time_on_question:"",selected:[],image:null,selectedUsers:[],questions:[],questionsInTest:[{question:"placeholder",price:"0"}],users:[],error:0,dateError:0}},methods:{setConfig:function(){var t=this.$cookies.get("jwt_token"),e={headers:{"X-CSRFToken":this.$cookies.get("csrftoken"),Authorization:"Bearer ".concat(t)}};return e},getQuestionsAndUsers:function(){var t=this,e=this.setConfig();c.a.get("".concat(l,"/questions/"),e).then((function(e){t.questions=e.data,t.questions.push({id:"placeholder",question:"Выберите вопрос"})})),c.a.get("".concat(l,"/users/"),e).then((function(e){for(var s=0;s<e.data.length;s+=1)t.users.push({value:e.data[s].id,text:e.data[s].username})}))},delQuestion:function(t){this.questionsInTest.length>1&&this.questionsInTest.splice(t,1)},addQuestion:function(){this.questionsInTest.push({question:"placeholder",price:"0"})},createTest:function(){var t=this;if(this.questionsInTest.length>1)for(var e=0;e<this.questionsInTest.length;e+=1)"placeholder"===this.questionsInTest[e].question&&this.questionsInTest.splice(e,1);if(this.title&&this.about&&this.start_date&&this.end_date&&this.time_on_question&&this.selectedUsers&&this.questionsInTest){var s=new Date(this.start_date),a=new Date(this.end_date);if(!(s>a)){for(var o={title:this.title,about:this.about,start_date:this.start_date,end_date:this.end_date,time_on_question:this.time_on_question,questions:[],tested_users:this.selectedUsers,img:""},r=this.setConfig(),i=[],n=0;n<this.questionsInTest.length;n+=1)i.push({question:this.questionsInTest[n].question,price:this.questionsInTest[n].price});return c.a.post("".concat(l,"/questions-in-tests/"),i,r).then((function(e){for(var s=0;s<e.data.length;s+=1)o.questions.push(e.data[s].id);if(t.image){var a=new FormData;a.append("file",t.image);var i=t.setConfig();i.headers["Content-Type"]="multipart/form-data",c.a.post("".concat(l,"/images/"),a,i).then((function(e){o.img=e.data.file,c.a.post("".concat(l,"/tests/"),o,r).then((function(e){201===e.status?(t.$emit("created"),t.$emit("testClean","test")):t.error=1}))}))}else c.a.post("".concat(l,"/tests/"),o,r).then((function(e){201===e.status?(t.$emit("created"),t.$emit("testClean","test")):t.error=1}))})),"hello"}this.dateError=1}else this.error=1}},computed:{totalPrice:function(){for(var t=0,e=0;e<this.questionsInTest.length;e+=1)t+=Number(this.questionsInTest[e].price);return t}},mounted:function(){this.getQuestionsAndUsers()}},d=u,b=s("2877"),p=Object(b["a"])(d,r,i,!1,null,null,null),m=p.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-from-groups"},[s("b-row",{staticClass:"text-center"},[s("b-col",[s("h3",[t._v("Создание теста из групп вопросов")])])],1),s("b-row",[s("b-col",{staticClass:"mx-auto",attrs:{cols:"12",xl:"10"}},[s("b-jumbotron",{staticClass:"w-100 mx-auto py-3",attrs:{"bg-variant":"info","border-variant":"dark"}},[s("b-form",{ref:"form"},[s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Название теста ")]),s("b-col",[s("b-input",{attrs:{id:"answer",placeholder:"Введите название теста"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите название теста")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" О тесте ")]),s("b-col",[s("b-form-textarea",{attrs:{id:"question",placeholder:"Введите описание",rows:"1"},model:{value:t.about,callback:function(e){t.about=e},expression:"about"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите описание теста")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Дата начала ")]),s("b-col",[s("b-form-datepicker",{attrs:{placeholder:"Выберите дату начала тестирования"},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите дату начала тестирования")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Дата окончания ")]),s("b-col",[s("b-form-datepicker",{attrs:{placeholder:"Выберите дату окончания тестирования"},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите дату окончания тестирования")])]):t._e(),t.dateError?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Дата окончания должна быть после даты начала")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Время на вопрос, сек ")]),s("b-col",[s("b-form-input",{attrs:{type:"number",placeholder:"Введите число"},model:{value:t.time_on_question,callback:function(e){t.time_on_question=e},expression:"time_on_question"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Введите время на вопрос")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[t._v(" Тестируемые "),s("br"),s("em",{staticStyle:{"font-size":"8pt"}},[t._v(" (Выберите удерживая CTRL) ")])]),s("b-col",[s("b-form-select",{attrs:{options:t.users,multiple:"","select-size":4},model:{value:t.selectedUsers,callback:function(e){t.selectedUsers=e},expression:"selectedUsers"}}),t.error?s("p",{staticClass:"my-0"},[s("em",{staticClass:"text-light"},[t._v("* Выберите пользователей")])]):t._e()],1)],1),s("b-row",{staticClass:"mb-1",attrs:{"align-v":"center"}},[s("b-col",{attrs:{cols:"3"}},[t._v(" Изображение ")]),s("b-col",[s("b-form-file",{attrs:{plain:""},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"3"}},[s("p",{staticClass:"mb-0"},[t._v("Группы")]),s("em",{staticStyle:{"font-size":"8pt"}},[t._v(" (Выберите группы, укажите баллы) ")])]),s("b-col",[t._l(t.groupsInTest,(function(e,a){return s("b-row",{key:a},[s("b-col",[s("b-row",{attrs:{"align-v":"center"}},[s("b-col",{staticClass:"pr-0",attrs:{cols:"9"}},[s("b-form-select",{staticClass:"mb-2",model:{value:e.group,callback:function(s){t.$set(e,"group",s)},expression:"git.group"}},t._l(t.groups,(function(e){return s("b-form-select-option",{key:e.id,attrs:{value:""+e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1),s("b-col",{staticClass:"pl-1",attrs:{cols:"2"}},[s("b-form-input",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{type:"number",value:"0"},model:{value:e.price,callback:function(s){t.$set(e,"price",s)},expression:"git.price"}})],1),s("b-col",{staticClass:"mx-0 px-0",attrs:{cols:"1"}},[s("b-button",{staticClass:"mb-2",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.delGroup(a)}}},[t._v("X")])],1)],1)],1)],1)})),t.error?s("p",{staticClass:"mx-0 mt-0 mb-1"},[s("em",{staticClass:"text-light"},[t._v("* Выберите вопросы")])]):t._e(),s("b-row",[s("b-col",[s("b-row",[s("b-col",[s("b-row",{staticClass:"px-3"},[s("b-button",{attrs:{variant:"primary"},on:{click:t.addGroup}},[t._v(" Добавить группу ")]),s("b-button",{staticClass:"ml-auto",attrs:{variant:"danger"},on:{click:t.createTest}},[t._v(" Создать ")])],1)],1)],1)],1)],1)],2)],1)],1)],1)],1)],1)],1)},f=[],_="https://testing-gomza-back.herokuapp.com",g={name:"TestFromGroups",data:function(){return{title:"",about:"",start_date:"",end_date:"",time_on_question:"",selected:[],image:null,selectedUsers:[],groups:[],groupsInTest:[{group:"placeholder",price:"0"}],users:[],error:0,dateError:0}},methods:{setConfig:function(){var t=this.$cookies.get("jwt_token"),e={headers:{"X-CSRFToken":this.$cookies.get("csrftoken"),Authorization:"Bearer ".concat(t)}};return e},getGroupsAndUsers:function(){var t=this,e=this.setConfig();c.a.get("".concat(_,"/group-questions/"),e).then((function(e){t.groups=e.data,t.groups.push({id:"placeholder",title:"Выберите группу"})})),c.a.get("".concat(_,"/users/"),e).then((function(e){for(var s=0;s<e.data.length;s+=1)t.users.push({value:e.data[s].id,text:e.data[s].username})}))},delGroup:function(t){this.groupsInTest.length>1&&this.groupsInTest.splice(t,1)},addGroup:function(){this.groupsInTest.push({group:"placeholder",price:"0"})},createTest:function(){var t=this;if(this.groupsInTest.length>1)for(var e=0;e<this.groupsInTest.length;e+=1)"placeholder"===this.groupsInTest[e].group&&this.groupsInTest.splice(e,1);if(this.title&&this.about&&this.start_date&&this.end_date&&this.time_on_question&&this.selectedUsers&&this.groupsInTest){var s=new Date(this.start_date),a=new Date(this.end_date);if(!(s>a)){for(var o={title:this.title,about:this.about,start_date:this.start_date,end_date:this.end_date,time_on_question:this.time_on_question,groups:[],tested_users:this.selectedUsers},r=this.setConfig(),i=[],n=0;n<this.groupsInTest.length;n+=1)i.push({group:this.groupsInTest[n].group,price:this.groupsInTest[n].price});return c.a.post("".concat(_,"/groups-in-tests/"),i,r).then((function(e){for(var s=0;s<e.data.length;s+=1)o.groups.push(e.data[s].id);if(t.image){var a=new FormData;a.append("file",t.image);var i=t.setConfig();i.headers["Content-Type"]="multipart/form-data",c.a.post("".concat(_,"/images/"),a,i).then((function(e){o.img=e.data.file,c.a.post("".concat(_,"/tests/"),o,r).then((function(e){201===e.status?(t.$emit("created"),t.$emit("testClean","test")):t.error=1}))}))}else c.a.post("".concat(_,"/tests/"),o,r).then((function(e){201===e.status?(t.$emit("created"),t.$emit("testClean","test")):t.error=1}))})),"hello"}this.dateError=1}else this.error=1}},computed:{},mounted:function(){this.getGroupsAndUsers()}},v=g,C=Object(b["a"])(v,h,f,!1,null,null,null),x=C.exports,w={name:"Home",data:function(){return{t:"",created:!1}},components:{TestFromQuestions:m,TestFromGroups:x},methods:{changeTest:function(t){this.t===t?this.t="":this.t=t},changeCreated:function(){this.created=!this.created},ifCreated:function(){var t=this;this.changeCreated(),setTimeout((function(){t.changeCreated()}),2e3)}},computed:{test:function(){return"test-from-".concat(this.t)}}},k=w,q=(s("27ba"),Object(b["a"])(k,a,o,!1,null,"35ecb102",null));e["default"]=q.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),o=s("5899"),r="["+o+"]",i=RegExp("^"+r+r+"*"),n=RegExp(r+r+"*$"),c=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(i,"")),2&t&&(s=s.replace(n,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5bea":function(t,e,s){},7156:function(t,e,s){var a=s("861d"),o=s("d2bb");t.exports=function(t,e,s){var r,i;return o&&"function"==typeof(r=e.constructor)&&r!==s&&a(i=r.prototype)&&i!==s.prototype&&o(t,i),t}},a434:function(t,e,s){"use strict";var a=s("23e7"),o=s("23cb"),r=s("a691"),i=s("50c4"),n=s("7b0b"),c=s("65f0"),l=s("8418"),u=s("1dde"),d=s("ae40"),b=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,f=9007199254740991,_="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b||!p},{splice:function(t,e){var s,a,u,d,b,p,g=n(this),v=i(g.length),C=o(t,v),x=arguments.length;if(0===x?s=a=0:1===x?(s=0,a=v-C):(s=x-2,a=h(m(r(e),0),v-C)),v+s-a>f)throw TypeError(_);for(u=c(g,a),d=0;d<a;d++)b=C+d,b in g&&l(u,d,g[b]);if(u.length=a,s<a){for(d=C;d<v-a;d++)b=d+a,p=d+s,b in g?g[p]=g[b]:delete g[p];for(d=v;d>v-a+s;d--)delete g[d-1]}else if(s>a)for(d=v-a;d>C;d--)b=d+a-1,p=d+s-1,b in g?g[p]=g[b]:delete g[p];for(d=0;d<s;d++)g[d+C]=arguments[d+2];return g.length=v-a+s,u}})},a9e3:function(t,e,s){"use strict";var a=s("83ab"),o=s("da84"),r=s("94ca"),i=s("6eeb"),n=s("5135"),c=s("c6b6"),l=s("7156"),u=s("c04e"),d=s("d039"),b=s("7c73"),p=s("241c").f,m=s("06cf").f,h=s("9bf2").f,f=s("58a8").trim,_="Number",g=o[_],v=g.prototype,C=c(b(v))==_,x=function(t){var e,s,a,o,r,i,n,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=f(l),e=l.charCodeAt(0),43===e||45===e){if(s=l.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(r=l.slice(2),i=r.length,n=0;n<i;n++)if(c=r.charCodeAt(n),c<48||c>o)return NaN;return parseInt(r,a)}return+l};if(r(_,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,k=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof k&&(C?d((function(){v.valueOf.call(s)})):c(s)!=_)?l(new g(x(e)),s,k):x(e)},q=a?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;q.length>T;T++)n(g,w=q[T])&&!n(k,w)&&h(k,w,m(g,w));k.prototype=v,v.constructor=k,i(o,_,k)}}}]);
//# sourceMappingURL=chunk-1563a14c.e69681eb.js.map