(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712f214e"],{bb51:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{staticClass:"mx-auto",attrs:{cols:"12",xl:"9"}},[e("b-jumbotron",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Сервис по тестированию")]},proxy:!0},{key:"lead",fn:function(){return[t._v(" Какое то описание сарвиса ")]},proxy:!0}])},[e("hr",{staticClass:"my-4"}),e("p",[t._v(" Еще пару слов о сервисе ")]),t.userData?e("b-button",{staticClass:"mr-2",attrs:{variant:"primary",to:"/test-list"}},[t._v(" Список тестов ")]):t._e(),t.userData?e("b-button",{staticClass:"mx-2",attrs:{variant:"success",to:"/my-page"}},[t._v(" Личный кабинет ")]):t._e()],1),0!==t.testsForUser.length?e("b-card",{staticClass:"mt-2",attrs:{"no-body":"","header-html":"<h4><b>Тесты которые Вам необходимо пройти:</b></h4>"}},[e("b-list-group",{attrs:{flush:""}},t._l(t.testsForUser,(function(s,n){return e("b-list-group-item",{key:n,attrs:{to:"/test-details/"+s.id}},[s.questions.length>0?e("h5",[t._v(" "+t._s(s.title)+" - всего вопросов "+t._s(s.questions.length)+" ")]):t._e(),s.groups.length>0?e("h5",[t._v(" "+t._s(s.title)+" - всего вопросов "+t._s(s.questionsCounter)+" ")]):t._e()])})),1)],1):t._e()],1)],1)],1)])},r=[],o=(e("caad"),e("bc3a")),a=e.n(o),u="https://testing-gomza-back.herokuapp.com",i={name:"Home",data:function(){return{userData:"",tests:"",testsForUser:[],results:""}},methods:{setConfig:function(){var t=this.$cookies.get("jwt_token"),s={headers:{"X-CSRFToken":this.$cookies.get("csrftoken"),Authorization:"Bearer ".concat(t)}};return s},getTests:function(t){var s=this,e=this.setConfig();e.params={user:t},a.a.get("".concat(u,"/tests/"),e).then((function(t){s.tests=t.data,s.getResults(s.userData.id);for(var e=0;e<s.tests.length;e+=1)s.tests[e].groups.length>0&&(s.tests[e].questionsCounter=s.countQuestionsInGroups(e))}))},getResults:function(t){var s=this,e=this.setConfig();e.params={user:t},a.a.get("".concat(u,"/results/"),e).then((function(t){s.results=t.data,s.checkResults()}))},checkResults:function(){var t=this.tests,s=this.results,e=[],n=[];if(0===s.length)this.testsForUser=t;else{for(var r=0;r<s.length;r+=1)n.push(s[r].test.id);for(var o=0;o<t.length;o+=1)n.includes(t[o].id)||(this.testsForUser.push(t[o]),e.push(t[o].id))}},countQuestionsInGroups:function(t){for(var s=this.tests[t],e=0,n=0;n<s.groups.length;n+=1)e+=s.groups[n].group.questions.length;return e}},mounted:function(){this.userData=this.$cookies.get("user_data"),this.userData&&this.getTests(this.userData.id)}},c=i,l=e("2877"),h=Object(l["a"])(c,n,r,!1,null,null,null);s["default"]=h.exports},caad:function(t,s,e){"use strict";var n=e("23e7"),r=e("4d64").includes,o=e("44d2"),a=e("ae40"),u=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!u},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=chunk-712f214e.76c91790.js.map