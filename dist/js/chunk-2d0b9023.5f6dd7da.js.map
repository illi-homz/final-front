{"version":3,"sources":["webpack:///./src/views/TestList.vue?6393","webpack:///src/views/TestList.vue","webpack:///./src/views/TestList.vue?ea7c","webpack:///./src/views/TestList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","test","index","key","_v","_s","about","start_date","end_date","questions","length","_e","groups","questionsCounter","staticRenderFns","name","data","tests","userID","methods","setConfig","headers","$cookies","get","Authorization","config","getTests","countQuestionsInGroups","totalQuestions","i","group","mounted","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,KAAK,GAAK,MAAMP,EAAIQ,GAAIR,EAAS,OAAE,SAASS,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,EAAMJ,YAAY,QAAQ,CAACF,EAAG,eAAe,CAACE,YAAY,qBAAqBC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,iBAAiB,OAAO,OAAU,GAAME,EAAU,MAAG,aAAa,KAAK,MAAQ,SAAS,CAACL,EAAG,cAAc,CAACJ,EAAIY,GAAG,IAAIZ,EAAIa,GAAGJ,EAAKK,OAAO,OAAOV,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAIY,GAAG,iBAAiBZ,EAAIa,GAAGJ,EAAKM,aAAaX,EAAG,MAAMJ,EAAIY,GAAG,oBAAoBZ,EAAIa,GAAGJ,EAAKO,WAAWZ,EAAG,MAAOK,EAAKQ,UAAUC,OAAS,EAAGd,EAAG,OAAO,CAACJ,EAAIY,GAAG,oBAAoBZ,EAAIa,GAAGJ,EAAKQ,UAAUC,QAAQ,OAAOlB,EAAImB,KAAMV,EAAKW,OAAOF,OAAS,EAAGd,EAAG,OAAO,CAACJ,EAAIY,GAAG,oBAAoBZ,EAAIa,GAAGJ,EAAKY,kBAAkB,OAAOrB,EAAImB,SAASf,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACE,YAAY,oBAAoBC,MAAM,CAAC,GAAM,iBAAoBE,EAAO,GAAG,QAAU,WAAW,CAACT,EAAIY,GAAG,YAAaZ,EAAU,OAAEI,EAAG,WAAW,CAACE,YAAY,YAAYC,MAAM,CAAC,GAAM,WAAcE,EAAO,GAAG,QAAU,YAAY,CAACT,EAAIY,GAAG,YAAYZ,EAAImB,MAAM,IAAI,IAAI,IAAI,MAAK,IAAI,IAAI,IAC5tCG,EAAkB,G,qBCmDtB,6CAGA,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLC,MAAO,KACPC,OAAQ,OAGZC,QAAS,CACPC,UADJ,WAEM,IAAN,iCACA,GACQC,QAAS,CACP,cAAe5B,KAAK6B,SAASC,IAAI,aACjCC,cAAe,UAAzB,YAIM,OAAOC,GAETC,SAZJ,WAYA,WACA,mBAEM,EAAN,gCACA,kBACQ,EAAR,aACQ,IAAR,8BACA,6BACY,EAAZ,0DAIA,mBACQ,QAAR,WAGIC,uBA5BJ,SA4BA,GAGM,IAFA,IAAN,gBACA,IACA,2BACQC,GAAkB3B,EAAKW,OAAOiB,GAAGC,MAAMrB,UAAUC,OAEnD,OAAOkB,IAGXG,QA7CF,WA8CItC,KAAKiC,WACLjC,KAAKyB,OAASzB,KAAK6B,SAASC,IAAI,aCtG8S,I,YCO9US,EAAY,eACd,EACAzC,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E","file":"js/chunk-2d0b9023.5f6dd7da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"testlist\"},[_c('b-row',[_c('b-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"11\",\"xl\":\"9\"}},_vm._l((_vm.tests),function(test,index){return _c('div',{key:index,staticClass:\"mt-3\"},[_c('b-card-group',{staticClass:\"mb-3 mx-auto w-100\",attrs:{\"deck\":\"\"}},[_c('b-card',{staticClass:\"mx-3\",attrs:{\"border-variant\":\"dark\",\"header\":(\"\" + (test.title)),\"header-tag\":\"h2\",\"align\":\"left\"}},[_c('b-card-text',[_vm._v(\" \"+_vm._s(test.about)+\" \")]),_c('small',{staticClass:\"text-muted\"},[_c('i',[_vm._v(\" Дата начала: \"+_vm._s(test.start_date)),_c('br'),_vm._v(\" Дата окончания: \"+_vm._s(test.end_date)),_c('br'),(test.questions.length > 0)?_c('span',[_vm._v(\" Всего вопросов: \"+_vm._s(test.questions.length)+\" \")]):_vm._e(),(test.groups.length > 0)?_c('span',[_vm._v(\" Всего вопросов: \"+_vm._s(test.questionsCounter)+\" \")]):_vm._e()])]),_c('b-row',[_c('b-button',{staticClass:\"ml-auto mr-3 w-25\",attrs:{\"to\":(\"/test-details/\" + (test.id)),\"variant\":\"danger\"}},[_vm._v(\"Детали\")]),(_vm.userID)?_c('b-button',{staticClass:\"mr-3 w-25\",attrs:{\"to\":(\"/gotest/\" + (test.id)),\"variant\":\"success\"}},[_vm._v(\"Пройти\")]):_vm._e()],1)],1)],1)],1)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"testlist\">\n    <b-row>\n      <b-col cols=\"11\" xl=\"9\" class=\"mx-auto\">\n        <div\n          class=\"mt-3\"\n          v-for=\"(test, index) in tests\"\n          :key=\"index\">\n            <b-card-group deck class=\"mb-3 mx-auto w-100\">\n              <b-card\n                border-variant=\"dark\"\n                :header=\"`${test.title}`\"\n                header-tag=\"h2\"\n                class=\"mx-3\"\n                align=\"left\">\n                <b-card-text>\n                  {{ test.about }}\n                </b-card-text>\n                <small class=\"text-muted\">\n                  <i>\n                    Дата начала: {{ test.start_date }}<br>\n                    Дата окончания: {{ test.end_date }}<br>\n                    <span v-if=\"test.questions.length > 0\">\n                      Всего вопросов: {{ test.questions.length }}\n                    </span>\n                    <span v-if=\"test.groups.length > 0\">\n                      Всего вопросов: {{ test.questionsCounter }}\n                    </span>\n                  </i>\n                </small>\n                <b-row>\n                  <b-button\n                    :to=\"`/test-details/${test.id}`\"\n                    class=\"ml-auto mr-3 w-25\"\n                    variant=\"danger\">Детали</b-button>\n                  <b-button\n                    :to=\"`/gotest/${test.id}`\"\n                    class=\"mr-3 w-25\"\n                    v-if=\"userID\"\n                    variant=\"success\">Пройти</b-button>\n                </b-row>\n              </b-card>\n            </b-card-group>\n          </div>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst BASE_API_URL = process.env.VUE_APP_SERVER_URL;\n// const BASE_API_URL = 'https://testing-gomza-back.herokuapp.com';\n\nexport default {\n  name: 'TestList',\n  data() {\n    return {\n      tests: null,\n      userID: null,\n    };\n  },\n  methods: {\n    setConfig() {\n      const jwt = this.$cookies.get('jwt_token');\n      const config = {\n        headers: {\n          'X-CSRFToken': this.$cookies.get('csrftoken'),\n          Authorization: `Bearer ${jwt}`,\n          // 'Access-Control-Allow-Origin': '*',\n        },\n      };\n      return config;\n    },\n    getTests() {\n      const config = this.setConfig();\n      // console.log(BASE_API_URL, config);\n      axios.get(`${BASE_API_URL}/tests/`, config)\n        .then((response) => {\n          this.tests = response.data;\n          for (let i = 0; i < this.tests.length; i += 1) {\n            if (this.tests[i].groups.length > 0) {\n              this.tests[i].questionsCounter = this.countQuestionsInGroups(i);\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    countQuestionsInGroups(testID) {\n      const test = this.tests[testID];\n      let totalQuestions = 0;\n      for (let i = 0; i < test.groups.length; i += 1) {\n        totalQuestions += test.groups[i].group.questions.length;\n      }\n      return totalQuestions;\n    },\n  },\n  mounted() {\n    this.getTests();\n    this.userID = this.$cookies.get('user_id');\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestList.vue?vue&type=template&id=0115c350&\"\nimport script from \"./TestList.vue?vue&type=script&lang=js&\"\nexport * from \"./TestList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}