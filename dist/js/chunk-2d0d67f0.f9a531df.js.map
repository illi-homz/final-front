{"version":3,"sources":["webpack:///./src/views/TestDetails.vue?246f","webpack:///src/views/TestDetails.vue","webpack:///./src/views/TestDetails.vue?a3d5","webpack:///./src/views/TestDetails.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","test","attrs","_e","_v","_s","title","about","_f","start_date","end_date","questions","length","groups","questionsCounter","staticRenderFns","name","data","userIsStaff","methods","setConfig","headers","$cookies","get","Authorization","config","getTest","countQuestionsInGroups","totalQuestions","i","group","mounted","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAAGJ,EAAIO,KAAwCH,EAAG,cAAc,CAACE,YAAY,yBAAyBE,MAAM,CAAC,aAAa,YAAY,eAAe,QAAQ,iBAAiB,SAAS,CAACJ,EAAG,QAAQ,CAAEJ,EAAIO,KAAQ,IAAEH,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,MAAM,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAO,GAAMR,EAAIO,KAAQ,IAAG,MAAQ,GAAG,IAAM,uBAAuB,GAAGP,EAAIS,KAAKL,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIO,KAAKK,UAAUR,EAAG,KAAK,CAACJ,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAIO,KAAKM,QAAQT,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIU,GAAG,6BAA6BV,EAAIW,GAAGX,EAAIc,GAAG,aAAPd,CAAqBA,EAAIe,cAAcX,EAAG,MAAMJ,EAAIU,GAAG,oBAAoBV,EAAIW,GAAGX,EAAIc,GAAG,aAAPd,CAAqBA,EAAIgB,WAAW,SAASZ,EAAG,KAAK,CAACE,YAAY,SAAUN,EAAIO,KAAKU,UAAUC,OAAS,EAAGd,EAAG,KAAK,CAACJ,EAAIU,GAAG,UAAUV,EAAIW,GAAGX,EAAIO,KAAKU,UAAUC,QAAQ,mBAAmBlB,EAAIS,KAAMT,EAAIO,KAAKY,OAAOD,OAAS,EAAGd,EAAG,KAAK,CAACJ,EAAIU,GAAG,UAAUV,EAAIW,GAAGX,EAAIO,KAAKa,kBAAkB,mBAAmBpB,EAAIS,QAAQ,GAAGL,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACE,YAAY,oBAAoBE,MAAM,CAAC,GAAM,WAAcR,EAAIO,KAAO,GAAG,QAAU,YAAY,CAACP,EAAIU,GAAG,YAAaV,EAAe,YAAEI,EAAG,WAAW,CAACE,YAAY,YAAYE,MAAM,CAAC,GAAM,cAAiBR,EAAIO,KAAO,GAAG,QAAU,WAAW,CAACP,EAAIU,GAAG,mBAAmBV,EAAIS,MAAM,IAAI,GAA7qCL,EAAG,IAAI,CAACJ,EAAIU,GAAG,oBAAkqC,MACz0CW,EAAkB,G,iCCwDtB,6CAEA,GACEC,KAAM,cACNC,KAFF,WAGI,MAAO,CACLhB,KAAM,KACNQ,WAAY,KACZC,SAAU,KACVQ,aAAa,IAGjBC,QAAS,CACPC,UADJ,WAEM,IAAN,iCACA,GACQC,QAAS,CACP,cAAe1B,KAAK2B,SAASC,IAAI,aACjCC,cAAe,UAAzB,YAGM,OAAOC,GAETC,QAXJ,WAWA,WACA,mBACA,mCACM,EAAN,8CACA,kBACQ,EAAR,YACQ,EAAR,6BACQ,EAAR,yBACA,yBACU,EAAV,sDAIIC,uBAxBJ,WA0BM,IADA,IAAN,IACA,mCACQC,GAAkBjC,KAAKM,KAAKY,OAAOgB,GAAGC,MAAMnB,UAAUC,OAExD,OAAOgB,IAGXG,QA1CF,WA2CIpC,KAAK+B,UACL,IAAJ,qCACwB,SAAhBR,IACFvB,KAAKuB,aAAc,KCzG4T,I,YCOjVc,EAAY,eACd,EACAvC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E","file":"js/chunk-2d0d67f0.f9a531df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"testdetails\"},[_c('div',[(!_vm.test)?_c('p',[_vm._v(\" loading.....\")]):_c('b-jumbotron',{staticClass:\"mx-5 mt-5 w-75 mx-auto\",attrs:{\"bg-variant\":\"secondary\",\"text-variant\":\"white\",\"border-variant\":\"dark\"}},[_c('b-row',[(_vm.test.img)?_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-img',{attrs:{\"src\":(\"\" + (_vm.test.img)),\"fluid\":\"\",\"alt\":\"Responsive image\"}})],1):_vm._e(),_c('b-col',[_c('h1',[_vm._v(_vm._s(_vm.test.title))]),_c('h5',[_vm._v(\" \"+_vm._s(_vm.test.about)),_c('br'),_c('small',[_vm._v(\" Дата начала прохождения: \"+_vm._s(_vm._f(\"formatDate\")(_vm.start_date))),_c('br'),_vm._v(\" Дата окончания: \"+_vm._s(_vm._f(\"formatDate\")(_vm.end_date))+\" \")])]),_c('hr',{staticClass:\"my-4\"}),(_vm.test.questions.length > 0)?_c('h5',[_vm._v(\" Всего \"+_vm._s(_vm.test.questions.length)+\" вопроса(ов) \")]):_vm._e(),(_vm.test.groups.length > 0)?_c('h5',[_vm._v(\" Всего \"+_vm._s(_vm.test.questionsCounter)+\" вопроса(ов) \")]):_vm._e()])],1),_c('b-row',[_c('b-button',{staticClass:\"ml-auto mr-3 w-25\",attrs:{\"to\":(\"/gotest/\" + (_vm.test.id)),\"variant\":\"success\"}},[_vm._v(\"Пройти\")]),(_vm.userIsStaff)?_c('b-button',{staticClass:\"mr-3 w-25\",attrs:{\"to\":(\"/edit-test/\" + (_vm.test.id)),\"variant\":\"danger\"}},[_vm._v(\"Редактировать\")]):_vm._e()],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"testdetails\">\n    <div>\n      <p v-if=\"!test\"> loading.....</p>\n      <b-jumbotron\n        v-else\n        class=\"mx-5 mt-5 w-75 mx-auto\"\n        bg-variant=\"secondary\"\n        text-variant=\"white\"\n        border-variant=\"dark\">\n        <b-row>\n          <b-col cols=\"2\" v-if=\"test.img\">\n            <b-img\n              :src=\"`${test.img}`\"\n              fluid\n              alt=\"Responsive image\"></b-img>\n          </b-col>\n          <b-col>\n            <h1>{{ test.title }}</h1>\n\n            <h5>\n              {{ test.about }}<br>\n              <small>\n                Дата начала прохождения: {{ start_date | formatDate }}<br>\n                Дата окончания: {{ end_date | formatDate }}\n              </small>\n            </h5>\n\n            <hr class=\"my-4\">\n\n            <h5 v-if=\"test.questions.length > 0\">\n              Всего {{ test.questions.length }} вопроса(ов)\n            </h5>\n            <h5 v-if=\"test.groups.length > 0\">\n              Всего {{ test.questionsCounter }} вопроса(ов)\n            </h5>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-button\n            :to=\"`/gotest/${test.id}`\"\n            class=\"ml-auto mr-3 w-25\"\n            variant=\"success\">Пройти</b-button>\n          <b-button\n              :to=\"`/edit-test/${test.id}`\"\n              class=\"mr-3 w-25\"\n              v-if=\"userIsStaff\"\n              variant=\"danger\">Редактировать</b-button>\n        </b-row>\n      </b-jumbotron>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst BASE_API_URL = process.env.VUE_APP_SERVER_URL;\n\nexport default {\n  name: 'TestDetails',\n  data() {\n    return {\n      test: null,\n      start_date: null,\n      end_date: null,\n      userIsStaff: false,\n    };\n  },\n  methods: {\n    setConfig() {\n      const jwt = this.$cookies.get('jwt_token');\n      const config = {\n        headers: {\n          'X-CSRFToken': this.$cookies.get('csrftoken'),\n          Authorization: `Bearer ${jwt}`,\n        },\n      };\n      return config;\n    },\n    getTest() {\n      const config = this.setConfig();\n      const id = `${this.$route.params.id}`;\n      axios.get(`${BASE_API_URL}/tests/${id}/`, config)\n        .then((response) => {\n          this.test = response.data;\n          this.start_date = response.data.start_date;\n          this.end_date = response.data.end_date;\n          if (this.test.groups.length > 0) {\n            this.test.questionsCounter = this.countQuestionsInGroups();\n          }\n        });\n    },\n    countQuestionsInGroups() {\n      let totalQuestions = 0;\n      for (let i = 0; i < this.test.groups.length; i += 1) {\n        totalQuestions += this.test.groups[i].group.questions.length;\n      }\n      return totalQuestions;\n    },\n  },\n  mounted() {\n    this.getTest();\n    const userIsStaff = this.$cookies.get('user_is_staff');\n    if (userIsStaff === 'true') {\n      this.userIsStaff = true;\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestDetails.vue?vue&type=template&id=02de74fe&\"\nimport script from \"./TestDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./TestDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}